# 学习网络是怎么连接的 记录一下关键点，后面好回忆

## 第一章 浏览器生成消息——探索浏览器内部

1. 生成 HTTP 请求消息
2. 向 DNS 服务器查询 Web 服务器的 IP 地址
3. 全世界 DNS 服务器的大接力
4. 委托协议栈发送消息
    * 前三部分都是获取ip地址
    * 当ip地址知道过后，委托操作系统内部的协议栈向这个目标 IP
地址发送数字信息。本书然后介绍浏览器与 Web 服务器之间收发消息的过程
## 第二章 用电信号传输 TCP/IP 数据——探索协议栈和网卡
1. 创建套接字
2. 连接服务器
3. 收发数据
4. 从服务器断开并删除套接字
5. IP 与以太网的包收发操作
6. UDP 协议的收发操作
   * 报头和起始帧分界符 | MAC 头部 | IP 头部 | 数据 | FCS (包)
   * to do WireShark 这个工具对这一章可以实际操作一次。这样会深入理解
## 第三章 从网线到网络设备——探索集线器、交换机和路由器
1. 信号在网线和集线器中传输
   * 集线器将信号发送给所有连接在它上面的线路
2. 交换机的包转发操作
    * 交换机根据（MAC 地址表： mac address, port, 控制信息）地址表查找MAC地址，然后将信号发送到相应的端口(交换电路将包发送到相应的端口，交换电路是交换机的原型，“交换机”这个词也是从交换电路来的)
    * 全双工模式可以同时进行发送和接收，自动协商：确定最优的传输速率
3. 路由器的包转发操作
    * 查询路由表确定输出端口，路由器的各个端口都具有 MAC 地址和 IP 地址
    路由器判断下一个转发目标的方法如下。
    * 如果路由表的网关列内容为 IP 地址，则该地址就是下一个转发目标。
    * 如果路由表的网关列内容为空，则 IP 头部中的接收方 IP 地址就是下一个转发目标。路由器也会使用 ARP 来查询下一个转发目标的 MAC 地址
4. 路由器的附加功能
    * 通过地址转换有效利用 IP 地址
    * 路由器的包过滤功能
## 第四章 通过接入网进入互联网内部——探索接入网和网络运营商
1. ADSL 接入网的结构和工作方式
    * ADSL： Asymmetric Digital Subscriber Line，不对称数字用户线。它是一种利用架设在电线杆上的金属电话线来进行高速通信的技术，它的上行方向（用户到互联网）和下行方向（互联网到用户）的通信速率是不对称的。
    * 不断改变形态的网络包 ：互联网接入路由器会在网络包前面加上 MAC 头部、PPPoE 头部、PPP 头 部 总共 3 种 头 部， 然 后 发 送 给 ADSL Modem -> ADSL Modem 将包拆分成信元，并转换成电信号发送给分离器(ADSL Modem 采用了一种用圆滑波形（正弦波）对信号进行合成来表示 0 和 1 的技术，这种技术称为调制->ADSL 将信元“调制”成信号)-> 信号通过电话线到达电话局之后，会经过配线盘、分离器到达 DSLAMA -> DSLAM 具有 ATM 接口，和后方路由器收发数据时使用的是原始网络包拆分后的 ATM 信元形式-> BAS 负责将 ATM 信元还原成网络包并转发到互联网内部。
    * ADSL 就是在包上加头，根据电信号波形式传播
2. 光纤接入网（FTTH）
    * 由互联网接入路由器在 IP 头部前面加上 MAC 头部、PPPoE 头部和 PPP 头部，然后由光纤收发器或者 ONU 转换成光信号 D，通过光纤到达 BAS 前面的多路光纤收发器和 OLT，最后被还原成电信号并到达 BAS。
    * 光纤是通过光传播